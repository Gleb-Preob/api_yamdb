## Проект YaMDb

Учебный командный проект YaMDb с реализацией API.
В проекте реализован функционал оценки и написания отзывов о различных произведений (книги, музыка, фильмы).

Возможности:

Наполнение базы данных из внешних источников (файлы .csv);
Регистрация и аутентификация пользователей с помощью e-mail и генерации токена;
Разделение пользователей по ролям доступа (админ, модератор, рядовой пользователь);
Создание пользователями отзывов на произведения и комментариев к ним;
Формирование рейтинга произведений по оценкам пользователей.

## Использованные технологии: 
* Python 3.9
* Django Rest Framework
  - Django-filter
  - Simple JWT
* SQLite
***

## Установка
#### Склонируйте репозиторий: 

```sh
git clone git@github.com:Gleb-Preob/api_yamdb.git
```
#### Находясь в папке с кодом создайте виртуальное окружение: 

```sh
python -m venv venv
```
#### Активируйте виртуальное окружение:

```sh
# для Windows
source venv\scripts\activate
# для Lunix и MacOS:
source venv/bin/activate
```

#### Установите зависимости: 

```sh
python -m pip install -r requirements.txt
```
#### Для заполнения базы данных выполните команду:

```sh
python manage.py import_csv
```

#### Для запуска сервера выполните команды:

```sh
python manage.py migrate
```
```sh
python manage.py createsuperuser
```
```sh
python manage.py runserver
```

## Примеры:

### Пример GET-запроса с токеном Салтыкова-Щедрина: получаем информацию о произведении.

    [GET] .../api/v1/titles/5/

__Пример ответа:__

    {
      "id": 5,
      "category": {
          "name": "Фильм",
          "slug": "movie"
      },
      "genre": [
          {
              "name": "Рок",
              "slug": "rock"
          },
          {
              "name": "Rock-n-roll",
              "slug": "rock-n-roll"
          }
      ],
      "rating": 5,
      "name": "Криминальное чтиво",
      "year": 1994,
      "description": ""
    }

### Пример POST-запроса с токеном Салтыкова-Щедрина: добавление нового отзыва.

    [POST] .../api/v1/titles/5/reviews/

    {
      "score": 10,
      "text": "Идиоты вообще очень опасны, и даже не потому, что они непременно злы, а потому, что они чужды всяким соображениям и всегда идут напролом, как будто дорога, на которой они очутились, принадлежит им одним."
    }
      
__Пример ответа:__

    {
      "id": 76,
      "author": "Saltikov-Shedrin",
      "title": "Криминальное чтиво",
      "score": 10,
      "text": "Идиоты вообще очень опасны, и даже не потому, что они непременно злы, а потому, что они чужды всяким соображениям и всегда идут напролом, как будто дорога, на которой они очутились, принадлежит им одним.",
      "pub_date": "2023-07-13T04:46:19.565921Z"
    }


### Пример GET-запроса с токеном Салтыкова-Щедрина: Получение списка всех отзывов к произведению с id=2.

    [GET] .../api/v1/titles/2/reviews/
      
__Пример ответа:__

    {
      "count": 3,
      "next": null,
      "previous": null,
      "results": [
          {
              "id": 5,
              "author": "angry",
              "title": "Крестный отец",
              "score": 3,
              "text": "Это мои соседи! Ставлю три звезды за то, что они дважды отдавили мне окном пальцы:\n----------------------\n— Вы живёте в плохом районе?\n— Не то слово. Однажды с нашей улицы угнали полицейскую машину с двумя полицейскими. В дом всё время лезут воры. Каждый раз, как я пытаюсь закрыть окно, прищемляю кому-нибудь пальцы.",
              "pub_date": "2023-07-13T04:16:16.720858Z"
          },
          {
              "id": 4,
              "author": "reviewer",
              "title": "Крестный отец",
              "score": 1,
              "text": "Жестокий, жестокий, жестокий мир, не о таком мечтали мы в детстве!!111\n***Отец сделал ему предложение, от которого он не смог отказаться. Лука Брази держал пистолет у его виска, и отец предложил выбор: либо на контракте мозги, либо подпись.***",
              "pub_date": "2023-07-13T04:16:16.713159Z"
          },
          {
              "id": 3,
              "author": "faust",
              "title": "Крестный отец",
              "score": 10,
              "text": "Фильм, разобранный на цитаты, достоин высшей оценки. Десять с плюсом (жаль, тут плюса нет)\n\"Ты пришел и говоришь: \"Дон Корлеоне, мне нужна справедливость\". Но ты просишь без уважения, ты не предлагаешь дружбу, ты даже не назвал меня Крестным Отцом.\"",
              "pub_date": "2023-07-13T04:16:16.706026Z"
          }
      ]
    }


### Пример POST-запроса с токеном Салтыкова-Щедрина: отправляем новый комментарий к отзыву с id=5.

    [POST] .../api/v1/titles/2/reviews/5/comments/
    {
      "text": "Увы! Не прошло еще четверти часа, а уже мне показалось, что теперь самое настоящее время пить водку."
    }

__Пример ответа:__

    {
      "id": 4,
      "author": "Saltikov-Shedrin",
      "pub_date": "2023-07-13T04:57:16.601729Z",
      "text": "Увы! Не прошло еще четверти часа, а уже мне показалось, что теперь самое настоящее время пить водку.",
      "review": 5
    }


## Техническое описание

http://127.0.0.1:8000/redoc/

   ```bash
   # запустить для Lunix и MacOS:
   xdg-open http://127.0.0.1:8000/redoc/
   ```

## Авторы
[AliceBolgarina](https://github.com/AliceBolgarina):
- произведения, категории, жанры, импорт файлов из csv

[Gleb-Preob](https://github.com/Gleb-Preob)
- отзывы, рейтинги, комментарии

[deeramster](https://github.com/deeramster)
- регистрация и аутентификация, пользователи